(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[83658],{378426:(t,i,e)=>{"use strict";e.d(i,{Z:()=>c});var o=e(665045),n=e(919629),r=e(558493),s=e(9520),a="length",h=function(t){function i(i,e){t.call(this,i),this.element=e}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i}(s.ZP);const c=function(t){function i(i,e){t.call(this);var o=e||{};if(this.unique_=!!o.unique,this.array_=i||[],this.unique_)for(var n=0,r=this.array_.length;n<r;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},i.prototype.extend=function(t){for(var i=0,e=t.length;i<e;++i)this.push(t[i]);return this},i.prototype.forEach=function(t){for(var i=this.array_,e=0,o=i.length;e<o;++e)t(i[e],e,i)},i.prototype.getArray=function(){return this.array_},i.prototype.item=function(t){return this.array_[t]},i.prototype.getLength=function(){return this.get(a)},i.prototype.insertAt=function(t,i){this.unique_&&this.assertUnique_(i),this.array_.splice(t,0,i),this.updateLength_(),this.dispatchEvent(new h(n.Z.ADD,i))},i.prototype.pop=function(){return this.removeAt(this.getLength()-1)},i.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var i=this.getLength();return this.insertAt(i,t),this.getLength()},i.prototype.remove=function(t){for(var i=this.array_,e=0,o=i.length;e<o;++e)if(i[e]===t)return this.removeAt(e)},i.prototype.removeAt=function(t){var i=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new h(n.Z.REMOVE,i)),i},i.prototype.setAt=function(t,i){var e=this.getLength();if(t<e){this.unique_&&this.assertUnique_(i,t);var o=this.array_[t];this.array_[t]=i,this.dispatchEvent(new h(n.Z.REMOVE,o)),this.dispatchEvent(new h(n.Z.ADD,i))}else{for(var r=e;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,i)}},i.prototype.updateLength_=function(){this.set(a,this.array_.length)},i.prototype.assertUnique_=function(t,i){for(var e=0,n=this.array_.length;e<n;++e)if(this.array_[e]===t&&e!==i)throw new o.Z(58)},i}(r.ZP)},919629:(t,i,e)=>{"use strict";e.d(i,{Z:()=>o});const o={ADD:"add",REMOVE:"remove"}},611256:(t,i,e)=>{"use strict";e.d(i,{Z:()=>o});const o={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},208913:(t,i,e)=>{"use strict";e.d(i,{XC:()=>a,_2:()=>l,BB:()=>p});var o=e(438906),n=e(921882),r=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,s=/^([a-z]*)$/i;function a(t){return"string"==typeof t?t:p(t)}var h,c,u=(h={},c=0,function(t){var i;if(h.hasOwnProperty(t))i=h[t];else{if(c>=1024){var e=0;for(var n in h)0==(3&e++)&&(delete h[n],--c)}i=function(t){var i,e,n,a,h;if(s.exec(t)&&(t=function(t){var i=document.createElement("div");if(i.style.color=t,""!==i.style.color){document.body.appendChild(i);var e=getComputedStyle(i).color;return document.body.removeChild(i),e}return""}(t)),r.exec(t)){var c,u=t.length-1;c=u<=4?1:2;var l=4===u||8===u;i=parseInt(t.substr(1+0*c,c),16),e=parseInt(t.substr(1+1*c,c),16),n=parseInt(t.substr(1+2*c,c),16),a=l?parseInt(t.substr(1+3*c,c),16):255,1==c&&(i=(i<<4)+i,e=(e<<4)+e,n=(n<<4)+n,l&&(a=(a<<4)+a)),h=[i,e,n,a/255]}else 0==t.indexOf("rgba(")?_(h=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((h=t.slice(4,-1).split(",").map(Number)).push(1),_(h)):(0,o.h)(!1,14);return h}(t),h[t]=i,++c}return i});function l(t){return Array.isArray(t)?t:u(t)}function _(t){return t[0]=(0,n.uZ)(t[0]+.5|0,0,255),t[1]=(0,n.uZ)(t[1]+.5|0,0,255),t[2]=(0,n.uZ)(t[2]+.5|0,0,255),t[3]=(0,n.uZ)(t[3],0,1),t}function p(t){var i=t[0];i!=(0|i)&&(i=i+.5|0);var e=t[1];e!=(0|e)&&(e=e+.5|0);var o=t[2];return o!=(0|o)&&(o=o+.5|0),"rgba("+i+","+e+","+o+","+(void 0===t[3]?1:t[3])+")"}},545120:(t,i,e)=>{"use strict";e.d(i,{y:()=>n});var o=e(208913);function n(t){return Array.isArray(t)?(0,o.BB)(t):t}},267644:(t,i,e)=>{"use strict";e.d(i,{oj:()=>r,$A:()=>s,XV:()=>a,hg:()=>h,hN:()=>c,tr:()=>u});var o,n,r="ol-hidden",s="ol-selectable",a="ol-unselectable",h="ol-control",c="ol-collapsed",u=(n={},function(t){if(o||(o=document.createElement("div").style),!(t in n)){o.font=t;var i=o.fontFamily;if(o.font="",!i)return null;n[t]=i.split(/,\s?/)}return n[t]})},591358:(t,i,e)=>{"use strict";e.d(i,{V:()=>n,vw:()=>r,G$:()=>s,tK:()=>a,MP:()=>h,XQ:()=>c,De:()=>u,Qm:()=>l,GQ:()=>_,NL:()=>p});var o="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",n=-1!==o.indexOf("firefox"),r=-1!==o.indexOf("safari")&&-1==o.indexOf("chrom"),s=-1!==o.indexOf("webkit")&&-1==o.indexOf("edge"),a=-1!==o.indexOf("macintosh"),h=window.devicePixelRatio||1,c=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(t){}return t}(),u="geolocation"in navigator,l="ontouchstart"in window,_="PointerEvent"in window,p=!!navigator.msPointerEnabled},556510:(t,i,e)=>{"use strict";e.d(i,{Z:()=>o});const o={IMAGE:"image",VECTOR:"vector"}},968509:(t,i,e)=>{"use strict";e.d(i,{Df:()=>h,bL:()=>c,mb:()=>u,X9:()=>l,He:()=>_,rc:()=>p,V4:()=>g,Tx:()=>f,PH:()=>d,ru:()=>m,oB:()=>y,yC:()=>v,GK:()=>I,Uh:()=>w,fk:()=>C,Ux:()=>E,qs:()=>x,Oz:()=>A,AE:()=>Z});var o=e(267644),n=e(85386),r=e(913580),s=e(83482),a=e(782359),h="10px sans-serif",c=[0,0,0,1],u="round",l=[],_=0,p="round",g=10,f=[0,0,0,1],d="center",m="middle",y=[0,0,0,0],v=1,I=new s.Z,O={},k=null,D={},w=function(){var t,i,e=O,n="32px ",s=["monospace","serif"],a=s.length,h="wmytzilWMYTZIL@#/&?$%10ï€“";function c(t){for(var e=S(),o=100;o<=700;o+=300){for(var r=o+" ",c=!0,u=0;u<a;++u){var l=s[u];if(e.font=r+n+l,i=e.measureText(h).width,t!=l){e.font=r+n+t+","+l;var _=e.measureText(h).width;c=c&&_!=i}}if(c)return!0}return!1}function u(){var i=!0;for(var o in e)e[o]<60&&(c(o)?(e[o]=60,(0,r.ZH)(D),k=null,I.clear()):(++e[o],i=!1));i&&(clearInterval(t),t=void 0)}return function(i){var n=(0,o.tr)(i);if(n)for(var r=0,s=n.length;r<s;++r){var a=n[r];a in e||(e[a]=60,c(a)||(e[a]=0,void 0===t&&(t=setInterval(u,32))))}}}();function S(){return k||(k=(0,n.E4)(1,1)),k}var L,z,C=(z=D,function(t){var i=z[t];return null==i&&(L||((L=document.createElement("span")).textContent="M",L.style.margin=L.style.padding="0 !important",L.style.position="absolute !important",L.style.left="-99999px !important"),L.style.font=t,document.body.appendChild(L),i=z[t]=L.offsetHeight,document.body.removeChild(L)),i});function E(t,i){var e=S();return t!=e.font&&(e.font=t),e.measureText(i).width}function x(t,i,e,o){0!==i&&(t.translate(e,o),t.rotate(i),t.translate(-e,-o))}var A=(0,a.Ue)();function Z(t,i,e,o,n,r,s,a,h,c,u){var l;1!=e&&(l=t.globalAlpha,t.globalAlpha=l*e),i&&t.setTransform.apply(t,i),t.drawImage(o,n,r,s,a,h,c,s*u,a*u),l&&(t.globalAlpha=l),i&&t.setTransform.apply(t,A)}},409371:(t,i,e)=>{"use strict";e.r(i),e.d(i,{default:()=>o});const o=function(t){function i(i){var e=i||{};t.call(this,{points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,atlasManager:e.atlasManager})}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.clone=function(){var t=new i({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},i.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},i}(e(218663).default)},898185:(t,i,e)=>{"use strict";e.r(i),e.d(i,{default:()=>s});var o=e(949179),n=e(208913),r=function(t){var i=t||{};this.color_=void 0!==i.color?i.color:null,this.checksum_=void 0};r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0})},r.prototype.getColor=function(){return this.color_},r.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},r.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+(0,n.XC)(t):this.checksum_=(0,o.sq)(this.color_):this.checksum_="f-"}return this.checksum_};const s=r},162875:(t,i,e)=>{"use strict";e.r(i),e.d(i,{default:()=>v});var o=e(949179),n=e(611256),r=e(438906),s=e(208913),a=e(613002),h=e(173381);const c="fraction";var u=e(85386),l=e(66575),_=e(516250),p=function(t){function i(i,e,o,n,r,s){t.call(this),this.hitDetectionImage_=null,this.image_=i||new Image,null!==n&&(this.image_.crossOrigin=n),this.canvas_=s?document.createElement("canvas"):null,this.color_=s,this.imageListenerKeys_=null,this.imageState_=r,this.size_=o,this.src_=e,this.tainted_}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===n.Z.LOADED){this.tainted_=!1;var t=(0,u.E4)(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},i.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(h.Z.CHANGE)},i.prototype.handleImageError_=function(){this.imageState_=n.Z.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},i.prototype.handleImageLoad_=function(){this.imageState_=n.Z.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},i.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},i.prototype.getImageState=function(){return this.imageState_},i.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var i=this.size_[0],e=this.size_[1],o=(0,u.E4)(i,e);o.fillRect(0,0,i,e),this.hitDetectionImage_=o.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},i.prototype.getSize=function(){return this.size_},i.prototype.getSrc=function(){return this.src_},i.prototype.load=function(){if(this.imageState_==n.Z.IDLE){this.imageState_=n.Z.LOADING,this.imageListenerKeys_=[(0,a.Vx)(this.image_,h.Z.ERROR,this.handleImageError_,this),(0,a.Vx)(this.image_,h.Z.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},i.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var i=t.getImageData(0,0,this.image_.width,this.image_.height),e=i.data,o=this.color_[0]/255,n=this.color_[1]/255,r=this.color_[2]/255,s=0,a=e.length;s<a;s+=4)e[s]*=o,e[s+1]*=n,e[s+2]*=r;t.putImageData(i,0,0)}},i.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(a.bN),this.imageListenerKeys_=null},i}(l.Z);const g="bottom-left",f="bottom-right",d="top-left",m="top-right";var y=function(t){function i(i){var e=i||{},a=void 0!==e.opacity?e.opacity:1,h=void 0!==e.rotation?e.rotation:0,u=void 0!==e.scale?e.scale:1,l=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:a,rotation:h,scale:u,rotateWithView:l}),this.anchor_=void 0!==e.anchor?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:d,this.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:c,this.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:c,this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;var g=void 0!==e.img?e.img:null,f=void 0!==e.imgSize?e.imgSize:null,m=e.src;(0,r.h)(!(void 0!==m&&g),4),(0,r.h)(!g||g&&f,5),void 0!==m&&0!==m.length||!g||(m=g.src||(0,o.sq)(g)),(0,r.h)(void 0!==m&&m.length>0,6);var y=void 0!==e.src?n.Z.IDLE:n.Z.LOADED;this.color_=void 0!==e.color?(0,s._2)(e.color):null,this.iconImage_=function(t,i,e,o,n,r){var s=_.c.get(i,o,r);return s||(s=new p(t,i,e,o,n,r),_.c.set(i,o,r,s)),s}(g,m,f,this.crossOrigin_,y,this.color_),this.offset_=void 0!==e.offset?e.offset:[0,0],this.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:d,this.origin_=null,this.size_=void 0!==e.size?e.size:null}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.clone=function(){return new i({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},i.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,i=this.getSize();if(this.anchorXUnits_==c||this.anchorYUnits_==c){if(!i)return null;t=this.anchor_.slice(),this.anchorXUnits_==c&&(t[0]*=i[0]),this.anchorYUnits_==c&&(t[1]*=i[1])}if(this.anchorOrigin_!=d){if(!i)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=m&&this.anchorOrigin_!=f||(t[0]=-t[0]+i[0]),this.anchorOrigin_!=g&&this.anchorOrigin_!=f||(t[1]=-t[1]+i[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},i.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},i.prototype.getColor=function(){return this.color_},i.prototype.getImage=function(t){return this.iconImage_.getImage(t)},i.prototype.getImageSize=function(){return this.iconImage_.getSize()},i.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},i.prototype.getImageState=function(){return this.iconImage_.getImageState()},i.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},i.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=d){var i=this.getSize(),e=this.iconImage_.getSize();if(!i||!e)return null;t=t.slice(),this.offsetOrigin_!=m&&this.offsetOrigin_!=f||(t[0]=e[0]-i[0]-t[0]),this.offsetOrigin_!=g&&this.offsetOrigin_!=f||(t[1]=e[1]-i[1]-t[1])}return this.origin_=t,this.origin_},i.prototype.getSrc=function(){return this.iconImage_.getSrc()},i.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},i.prototype.listenImageChange=function(t,i){return(0,a.oL)(this.iconImage_,h.Z.CHANGE,t,i)},i.prototype.load=function(){this.iconImage_.load()},i.prototype.unlistenImageChange=function(t,i){(0,a.Ev)(this.iconImage_,h.Z.CHANGE,t,i)},i}(e(548039).default);const v=y},516250:(t,i,e)=>{"use strict";e.d(i,{c:()=>s});var o=e(208913),n=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function r(t,i,e){return i+":"+t+":"+(e?(0,o.XC)(e):"null")}n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var i in this.cache_){var e=this.cache_[i];0!=(3&t++)||e.hasListener()||(delete this.cache_[i],--this.cacheSize_)}}},n.prototype.get=function(t,i,e){var o=r(t,i,e);return o in this.cache_?this.cache_[o]:null},n.prototype.set=function(t,i,e,o){var n=r(t,i,e);this.cache_[n]=o,++this.cacheSize_},n.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var s=new n},548039:(t,i,e)=>{"use strict";e.r(i),e.d(i,{default:()=>r});var o=e(949179),n=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};n.prototype.clone=function(){return new n({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getSnapToPixel=function(){return!1},n.prototype.getAnchor=function(){return(0,o.O3)()},n.prototype.getImage=function(t){return(0,o.O3)()},n.prototype.getHitDetectionImage=function(t){return(0,o.O3)()},n.prototype.getImageState=function(){return(0,o.O3)()},n.prototype.getImageSize=function(){return(0,o.O3)()},n.prototype.getHitDetectionImageSize=function(){return(0,o.O3)()},n.prototype.getOrigin=function(){return(0,o.O3)()},n.prototype.getSize=function(){return(0,o.O3)()},n.prototype.setOpacity=function(t){this.opacity_=t},n.prototype.setRotateWithView=function(t){this.rotateWithView_=t},n.prototype.setRotation=function(t){this.rotation_=t},n.prototype.setScale=function(t){this.scale_=t},n.prototype.setSnapToPixel=function(t){},n.prototype.listenImageChange=function(t,i){return(0,o.O3)()},n.prototype.load=function(){(0,o.O3)()},n.prototype.unlistenImageChange=function(t,i){(0,o.O3)()};const r=n},218663:(t,i,e)=>{"use strict";e.r(i),e.d(i,{default:()=>c});var o=e(208913),n=e(545120),r=e(85386),s=e(591358),a=e(611256),h=e(968509);const c=function(t){function i(i){var e=void 0!==i.rotateWithView&&i.rotateWithView;t.call(this,{opacity:1,rotateWithView:e,rotation:void 0!==i.rotation?i.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==i.fill?i.fill:null,this.origin_=[0,0],this.points_=i.points,this.radius_=void 0!==i.radius?i.radius:i.radius1,this.radius2_=i.radius2,this.angle_=void 0!==i.angle?i.angle:0,this.stroke_=void 0!==i.stroke?i.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=i.atlasManager,this.render_(this.atlasManager_)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.clone=function(){var t=new i({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},i.prototype.getAnchor=function(){return this.anchor_},i.prototype.getAngle=function(){return this.angle_},i.prototype.getFill=function(){return this.fill_},i.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},i.prototype.getImage=function(t){return this.canvas_},i.prototype.getImageSize=function(){return this.imageSize_},i.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},i.prototype.getImageState=function(){return a.Z.LOADED},i.prototype.getOrigin=function(){return this.origin_},i.prototype.getPoints=function(){return this.points_},i.prototype.getRadius=function(){return this.radius_},i.prototype.getRadius2=function(){return this.radius2_},i.prototype.getSize=function(){return this.size_},i.prototype.getStroke=function(){return this.stroke_},i.prototype.listenImageChange=function(t,i){},i.prototype.load=function(){},i.prototype.unlistenImageChange=function(t,i){},i.prototype.render_=function(t){var i,e,o="",a="",c=0,u=null,l=0,_=0;this.stroke_&&(null===(e=this.stroke_.getColor())&&(e=h.Tx),e=(0,n.y)(e),void 0===(_=this.stroke_.getWidth())&&(_=h.yC),u=this.stroke_.getLineDash(),l=this.stroke_.getLineDashOffset(),s.XQ||(u=null,l=0),void 0===(a=this.stroke_.getLineJoin())&&(a=h.rc),void 0===(o=this.stroke_.getLineCap())&&(o=h.mb),void 0===(c=this.stroke_.getMiterLimit())&&(c=h.V4));var p=2*(this.radius_+_)+1,g={strokeStyle:e,strokeWidth:_,size:p,lineCap:o,lineDash:u,lineDashOffset:l,lineJoin:a,miterLimit:c};if(void 0===t){var f=(0,r.E4)(p,p);this.canvas_=f.canvas,i=p=this.canvas_.width,this.draw_(g,f,0,0),this.createHitDetectionCanvas_(g)}else{p=Math.round(p);var d,m=!this.fill_;m&&(d=this.drawHitDetectionCanvas_.bind(this,g));var y=this.getChecksum(),v=t.add(y,p,p,this.draw_.bind(this,g),d);this.canvas_=v.image,this.origin_=[v.offsetX,v.offsetY],i=v.image.width,m?(this.hitDetectionCanvas_=v.hitImage,this.hitDetectionImageSize_=[v.hitImage.width,v.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[i,i])}this.anchor_=[p/2,p/2],this.size_=[p,p],this.imageSize_=[i,i]},i.prototype.draw_=function(t,i,e,o){var r,s,a;i.setTransform(1,0,0,1,0,0),i.translate(e,o),i.beginPath();var c=this.points_;if(c===1/0)i.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(c*=2),r=0;r<=c;r++)s=2*r*Math.PI/c-Math.PI/2+this.angle_,a=r%2==0?this.radius_:u,i.lineTo(t.size/2+a*Math.cos(s),t.size/2+a*Math.sin(s))}if(this.fill_){var l=this.fill_.getColor();null===l&&(l=h.bL),i.fillStyle=(0,n.y)(l),i.fill()}this.stroke_&&(i.strokeStyle=t.strokeStyle,i.lineWidth=t.strokeWidth,t.lineDash&&(i.setLineDash(t.lineDash),i.lineDashOffset=t.lineDashOffset),i.lineCap=t.lineCap,i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit,i.stroke()),i.closePath()},i.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var i=(0,r.E4)(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i,0,0)}},i.prototype.drawHitDetectionCanvas_=function(t,i,e,n){i.setTransform(1,0,0,1,0,0),i.translate(e,n),i.beginPath();var r=this.points_;if(r===1/0)i.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var s,a,c,u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(r*=2),s=0;s<=r;s++)c=2*s*Math.PI/r-Math.PI/2+this.angle_,a=s%2==0?this.radius_:u,i.lineTo(t.size/2+a*Math.cos(c),t.size/2+a*Math.sin(c))}i.fillStyle=(0,o.XC)(h.bL),i.fill(),this.stroke_&&(i.strokeStyle=t.strokeStyle,i.lineWidth=t.strokeWidth,t.lineDash&&(i.setLineDash(t.lineDash),i.lineDashOffset=t.lineDashOffset),i.stroke()),i.closePath()},i.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",i=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||i!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var e="r"+t+i+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[e,t,i,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},i}(e(548039).default)},120767:(t,i,e)=>{"use strict";e.r(i),e.d(i,{default:()=>r});var o=e(949179),n=function(t){var i=t||{};this.color_=void 0!==i.color?i.color:null,this.lineCap_=i.lineCap,this.lineDash_=void 0!==i.lineDash?i.lineDash:null,this.lineDashOffset_=i.lineDashOffset,this.lineJoin_=i.lineJoin,this.miterLimit_=i.miterLimit,this.width_=i.width,this.checksum_=void 0};n.prototype.clone=function(){var t=this.getColor();return new n({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},n.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},n.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},n.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},n.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},n.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},n.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},n.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=(0,o.sq)(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_};const r=n},831219:(t,i,e)=>{"use strict";e.r(i),e.d(i,{toFunction:()=>c,createDefaultStyle:()=>l,createEditingStyle:()=>_,default:()=>g});var o=e(438906),n=e(28795),r=e(409371),s=e(898185),a=e(120767),h=function(t){var i=t||{};this.geometry_=null,this.geometryFunction_=p,void 0!==i.geometry&&this.setGeometry(i.geometry),this.fill_=void 0!==i.fill?i.fill:null,this.image_=void 0!==i.image?i.image:null,this.renderer_=void 0!==i.renderer?i.renderer:null,this.stroke_=void 0!==i.stroke?i.stroke:null,this.text_=void 0!==i.text?i.text:null,this.zIndex_=i.zIndex};function c(t){var i,e;"function"==typeof t?i=t:(Array.isArray(t)?e=t:((0,o.h)("function"==typeof t.getZIndex,41),e=[t]),i=function(){return e});return i}h.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new h({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},h.prototype.getRenderer=function(){return this.renderer_},h.prototype.setRenderer=function(t){this.renderer_=t},h.prototype.getGeometry=function(){return this.geometry_},h.prototype.getGeometryFunction=function(){return this.geometryFunction_},h.prototype.getFill=function(){return this.fill_},h.prototype.setFill=function(t){this.fill_=t},h.prototype.getImage=function(){return this.image_},h.prototype.setImage=function(t){this.image_=t},h.prototype.getStroke=function(){return this.stroke_},h.prototype.setStroke=function(t){this.stroke_=t},h.prototype.getText=function(){return this.text_},h.prototype.setText=function(t){this.text_=t},h.prototype.getZIndex=function(){return this.zIndex_},h.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(i){return i.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=p,this.geometry_=t},h.prototype.setZIndex=function(t){this.zIndex_=t};var u=null;function l(t,i){if(!u){var e=new s.default({color:"rgba(255,255,255,0.4)"}),o=new a.default({color:"#3399CC",width:1.25});u=[new h({image:new r.default({fill:e,stroke:o,radius:5}),fill:e,stroke:o})]}return u}function _(){var t={},i=[255,255,255,1],e=[0,153,255,1];return t[n.Z.POLYGON]=[new h({fill:new s.default({color:[255,255,255,.5]})})],t[n.Z.MULTI_POLYGON]=t[n.Z.POLYGON],t[n.Z.LINE_STRING]=[new h({stroke:new a.default({color:i,width:5})}),new h({stroke:new a.default({color:e,width:3})})],t[n.Z.MULTI_LINE_STRING]=t[n.Z.LINE_STRING],t[n.Z.CIRCLE]=t[n.Z.POLYGON].concat(t[n.Z.LINE_STRING]),t[n.Z.POINT]=[new h({image:new r.default({radius:6,fill:new s.default({color:e}),stroke:new a.default({color:i,width:1.5})}),zIndex:1/0})],t[n.Z.MULTI_POINT]=t[n.Z.POINT],t[n.Z.GEOMETRY_COLLECTION]=t[n.Z.POLYGON].concat(t[n.Z.LINE_STRING],t[n.Z.POINT]),t}function p(t){return t.getGeometry()}const g=h}}]);